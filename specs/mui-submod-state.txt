MUI Submod State
================
Updated: 2026-02-01

Phase Status
------------
Phase 1: Foundation ................ COMPLETE
Phase 2: Basic Objects ............. COMPLETE
Phase 3: Event Loop ................ COMPLETE
Phase 4: Group Builder ............. COMPLETE
Phase 5: More Objects .............. COMPLETE
Phase 6: Attribute Access .......... COMPLETE
Phase 7: Hook Support .............. COMPLETE
Phase 8: Lists ..................... COMPLETE
Phase 9: Menus ..................... COMPLETE
Phase 10: Color Objects ............ COMPLETE
Phase 11: Popup Objects ............ COMPLETE
Phase 12: Tabs & Scrolling ......... COMPLETE
Phase 13: Additional Objects ....... COMPLETE
Phase 14: Documentation ............ NOT STARTED

Files
-----
- submods/mui/MUI.b          - Module implementation
- include/submods/MUI.h      - Public header (constants, declares, MUISetupHookA4)

Test Files
----------
- submods/mui/mui_ev_ok.b    - Event loop test
- submods/mui/test_hook.b    - Hook/callback test
- submods/mui/test_features.b - Comprehensive feature test
- submods/mui/test_colors.b  - Color objects test
- submods/mui/test_tabs_scroll.b - Phase 12 test (tabs, scrolling, balance)
- submods/mui/test_additional.b - Phase 13 test (Numericbutton, Knob, Levelmeter)

Implementation Notes
--------------------

Horizontal groups:
  MUIA_Group_Horiz doesn't work with ACE BASIC (unknown reason).
  All HGroup implementations use MUIA_Group_Columns instead.

Hook A4 restoration:
  MUISetupHookA4 (in MUI.h) creates assembly stub that restores A4
  before calling callback, enabling SHARED variables in CALLBACK SUBs.
  Usage: MUISetupHookA4(hookStruct, @MyCallback, 0&)
  Note: Pass hook struct directly, NOT VARPTR(hookStruct).

Dirlist entries:
  Entries from MUIListGetEntry on Dirlist have filename at offset +8
  (embedded string, not a pointer).

Module libraries:
  MUI.b must open exec.library explicitly for _Wait to work.
  Libraries opened: exec, intuition, utility, muimaster.

Menus:
  MUIA_Window_Menustrip must be set at window creation time, not via SetAttrsA.
  Use MUIWindowWithMenu() to create a window with menus attached.
  Reserved word: "menu" cannot be used as variable name in ACE BASIC.

Color objects:
  MUIColorfield - displays a solid color (pass RGB as LONGINTs, full range 0 to &HFFFFFFFF)
  MUIColoradjust/MUIColoradjustRGB - RGB sliders for selecting colors
  MUIPendisplay - displays a single pen/color
  MUIPoppen - popup color picker
  Use MUIGetColorRed/Green/Blue to get individual components from Coloradjust.

Register (tabs):
  MUIBeginRegister("Tab1|Tab2|Tab3") - start building with pipe-separated titles
  MUIRegisterPage(pageGroup) - add each page (must be a group)
  MUIEndRegister - finish and get register object
  MUIRegister2/MUIRegister3 - quick helpers for 2 or 3 pages
  MUIRegisterActive/MUIRegisterSetActive - get/set active page (0-based)

Scrollgroup/Virtgroup:
  MUIVirtgroup(content) - wrap content in virtual group
  MUIScrollgroup(virtgroup) - create scrollable view (both directions)
  MUIScrollgroupVert/MUIScrollgroupHoriz - single-direction scrolling
  Note: Scrollgroup content is non-interactive. Use List for selectable items.

Balance:
  MUIBalance - horizontal resizable divider (use in HGroup)
  MUIBalanceQuiet - divider that doesn't update layout while dragging

Numeric controls (Phase 13):
  MUINumericbutton(min, max, initial) - clickable +/- buttons with editable value
  MUINumericbuttonFormat(min, max, initial, fmt) - with printf-style format string
  MUIKnob(min, max, initial) - rotary dial control
  MUINumericbuttonValue(obj) - get current value (works for all numeric controls)
  MUINumericbuttonSetValue(obj, val) - set value (works for Numericbutton and Knob)
  MUILevelmeter - display-only level meter (subclass of Numeric but not interactive)
  Note: Levelmeter may not respond to SetValue; use for display purposes only.

Image display (Phase 13):
  MUIDtpic(filename) - display image via datatypes (IFF, PNG, JPEG, etc.)
  MUIDtpicAlpha(filename, alpha) - with alpha transparency (0-255)
  MUIDtpicSetName(obj, filename) - change displayed image
